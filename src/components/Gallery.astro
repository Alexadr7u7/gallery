---
import { Image } from "astro:assets";
import { gallery } from "../constants/";
---
<ul
  role="list"
  class="grid-gallery columns-2 sm:columns-3 lg:columns-4 gap-2 [column-fill:_balance] [&>li]:mb-2"
>
  {
    gallery.map((item) => (
    <li class="flex rounded">
        <a href={item.image.src} class=" hover:scale-95 transition-transform" data-pswp-width={item.image.width} 
    data-pswp-height={item.image.height} target="_blank" data-cropped="true" >
          <Image src={item.image}  class="h-full object-cover" alt={item.alt}   quality={50}  />
          </a>
        </li>
        
    ))
  }
</ul>

<script>
  import PhotoSwipeLightbox from "photoswipe/lightbox";
  import "photoswipe/style.css";
  const lightbox = new PhotoSwipeLightbox({
    gallery: ".grid-gallery",
    children: "a",
    pswpModule: () => import("photoswipe"),
  });
  lightbox.init();
</script>